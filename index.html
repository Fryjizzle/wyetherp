import React, { useEffect, useState, useRef } from 'react';

const Index = () => {
  const [currentPage, setCurrentPage] = useState('intro');
  const [secretMenuVisible, setSecretMenuVisible] = useState(false);
  const [navigationHintShown, setNavigationHintShown] = useState(false);
  const cursorRef = useRef<HTMLDivElement>(null);
  const cosmosRef = useRef<HTMLDivElement>(null);

  // Page names for breadcrumbs
  const pageNames: Record<string, string> = {
    intro: 'Home',
    about: 'About', 
    projects: 'Projects',
    contact: 'Contact',
    codex: 'The Codex',
    garden: 'Digital Garden',
    workshop: 'Sacred Workshop',
    frequencies: 'Frequencies'
  };

  // Custom cursor system
  useEffect(() => {
    const handleMouseMove = (e: MouseEvent) => {
      if (cursorRef.current) {
        cursorRef.current.style.left = e.clientX - 10 + 'px';
        cursorRef.current.style.top = e.clientY - 10 + 'px';
      }
      
      // Create cursor trails occasionally
      if (Math.random() > 0.7) {
        createCursorTrail(e.clientX, e.clientY);
      }
    };

    document.addEventListener('mousemove', handleMouseMove);
    return () => document.removeEventListener('mousemove', handleMouseMove);
  }, []);

  // Create cosmic background
  useEffect(() => {
    if (cosmosRef.current) {
      const cosmos = cosmosRef.current;
      cosmos.innerHTML = '';
      
      // Create layered twinkling stars
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        
        const size = Math.random() * 3 + 1;
        star.style.width = size + 'px';
        star.style.height = size + 'px';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 4 + 's';
        
        cosmos.appendChild(star);
      }
    }

    // Start shooting stars
    const shootingStarsInterval = setInterval(createShootingStar, 5000);
    
    return () => clearInterval(shootingStarsInterval);
  }, []);

  // Navigation hint
  useEffect(() => {
    if (currentPage === 'intro' && !navigationHintShown) {
      const timer = setTimeout(() => {
        pulseNavigation();
        setNavigationHintShown(true);
      }, 8000);
      
      return () => clearTimeout(timer);
    }
  }, [currentPage, navigationHintShown]);

  const createCursorTrail = (x: number, y: number) => {
    const trail = document.createElement('div');
    trail.className = 'cursor-trail';
    trail.style.cssText = `
      position: fixed;
      left: ${x - 2}px;
      top: ${y - 2}px;
      width: 4px;
      height: 4px;
      background: hsl(258 44% 59%);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9998;
      opacity: 0.7;
    `;
    
    document.body.appendChild(trail);
    
    trail.animate([
      { opacity: 0.7, transform: 'scale(1)' },
      { opacity: 0, transform: 'scale(0)' }
    ], {
      duration: 800,
      easing: 'ease-out'
    }).addEventListener('finish', () => trail.remove());
  };

  const createShootingStar = () => {
    if (!cosmosRef.current) return;
    
    const star = document.createElement('div');
    star.className = 'shooting-star';

    const xStart = Math.random() * window.innerWidth * 0.8;
    const yStart = Math.random() * window.innerHeight * 0.5;
    const size = 2 + Math.random() * 2;

    star.style.cssText = `
      position: absolute;
      left: ${xStart}px;
      top: ${yStart}px;
      width: ${size * 30}px;
      height: 2px;
      background: linear-gradient(90deg, hsl(210 100% 97%), transparent);
      border-radius: 1px;
      animation: shoot 1.8s ease-out forwards;
      pointer-events: none;
      filter: blur(0.5px);
      box-shadow: 0 0 6px hsl(210 100% 97%);
    `;

    cosmosRef.current.appendChild(star);
    setTimeout(() => star.remove(), 1800);
  };

  const showPage = (pageId: string) => {
    // Enhanced page transition with smooth fade
    const currentSection = document.querySelector('.page-section.active') as HTMLElement;
    if (currentSection) {
      currentSection.style.opacity = '0';
      currentSection.style.transform = 'translateY(20px)';
      
      setTimeout(() => {
        setCurrentPage(pageId);
        setSecretMenuVisible(false);
        
        // Remove navigation pulse
        const navLinks = document.getElementById('navLinks');
        if (navLinks) navLinks.classList.remove('pulse-hint');
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 200);
    } else {
      setCurrentPage(pageId);
      setSecretMenuVisible(false);
    }
  };

  const pulseNavigation = () => {
    const navLinks = document.getElementById('navLinks');
    if (navLinks) {
      navLinks.classList.add('pulse-hint');
      
      const msg = document.createElement('div');
      msg.className = 'resonance-confirm';
      msg.innerHTML = "✨ Explore the pathways above ↑";
      msg.style.cssText = `
        position: fixed;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        background: hsla(258 44% 59%, 0.85);
        padding: 0.8rem 1.5rem;
        border-radius: 25px;
        color: hsl(210 100% 97%);
        font-size: 1.1rem;
        box-shadow: 0 0 15px hsla(258 44% 59%, 0.4);
        animation: fadeOutUp 4s ease-out forwards;
        z-index: 9999;
      `;
      
      document.body.appendChild(msg);
      setTimeout(() => msg.remove(), 4000);
      
      setTimeout(() => {
        navLinks.classList.remove('pulse-hint');
      }, 3000);
    }
  };

  const toggleSecretMenu = () => {
    setSecretMenuVisible(!secretMenuVisible);
  };

  const resonancePing = () => {
    const aether = document.querySelector('.aether-core');
    if (aether) {
      aether.classList.add('resonance-flare');
      setTimeout(() => aether.classList.remove('resonance-flare'), 1000);
    }

    const msg = document.createElement('div');
    msg.className = 'resonance-confirm';
    msg.innerHTML = "✨ Resonance sent into the cosmos...";
    msg.style.cssText = `
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      background: hsla(258 44% 59%, 0.85);
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      color: hsl(210 100% 97%);
      font-size: 1.1rem;
      box-shadow: 0 0 15px hsla(258 44% 59%, 0.4);
      animation: fadeOutUp 4s ease-out forwards;
      z-index: 9999;
    `;
    
    document.body.appendChild(msg);
    setTimeout(() => msg.remove(), 4000);
  };

  return (
    <>
      <style>{`
        /* ===== CSS VARIABLES - Design System ===== */
        :root {
          /* Elemental Color Palette */
          --fire: 14 100% 57%;
          --water: 195 100% 50%;
          --air: 205 53% 74%;
          --earth: 25 59% 30%;
          --aether: 258 44% 59%;
          
          /* Background & Space Colors */
          --cosmic-void: 231 45% 8%;
          --cosmic-glow: 210 100% 97%;
          --cosmic-mist: 0 0% 100%;
          
          /* UI & Interface Colors */
          --surface: 230 20% 15%;
          --border: 0 0% 100%;
          --text-primary: 210 100% 97%;
          --text-secondary: 210 50% 80%;
          
          /* Enhanced Animation Timing */
          --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          --transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        /* ===== GLOBAL RESET & BASE STYLES ===== */
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }
        
        body {
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          background: linear-gradient(135deg, 
            hsl(var(--cosmic-void)) 0%, 
            hsl(231 35% 12%) 50%, 
            hsl(230 25% 18%) 100%);
          color: hsl(var(--text-primary));
          line-height: 1.6;
          min-height: 100vh;
          overflow-x: hidden;
          scroll-behavior: smooth;
          cursor: none;
        }

        /* ===== CUSTOM CURSOR SYSTEM ===== */
        .custom-cursor {
          position: fixed;
          width: 20px;
          height: 20px;
          background: radial-gradient(circle, hsl(var(--aether)), transparent);
          border-radius: 50%;
          pointer-events: none;
          z-index: 9999;
          transition: all 0.1s ease;
          mix-blend-mode: screen;
        }

        /* ===== COSMIC BACKGROUND EFFECTS ===== */
        .cosmos {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          z-index: -2;
          overflow: hidden;
        }
        
        .star {
          position: absolute;
          background: hsl(var(--cosmic-glow));
          border-radius: 50%;
          animation: twinkle 4s ease-in-out infinite alternate;
        }
        
        @keyframes twinkle {
          0% { opacity: 0.3; transform: scale(1); }
          100% { opacity: 1; transform: scale(1.2); }
        }

        @keyframes shoot {
          from { 
            transform: translateX(0) translateY(0) rotate(45deg); 
            opacity: 0.8; 
            width: 0px;
          }
          10% {
            opacity: 1;
            width: 60px;
          }
          to { 
            transform: translateX(300px) translateY(300px) rotate(45deg); 
            opacity: 0;
            width: 0px;
          }
        }

        /* ===== BREADCRUMB NAVIGATION ===== */
        .breadcrumb-nav {
          position: fixed;
          top: 80px;
          left: 2rem;
          z-index: 1000;
          display: none;
          align-items: center;
          gap: 0.5rem;
          background: hsla(var(--cosmic-void), 0.8);
          backdrop-filter: blur(15px);
          padding: 0.8rem 1.5rem;
          border-radius: 25px;
          border: 1px solid hsla(var(--aether), 0.3);
          animation: slideInLeft 0.5s ease-out;
        }

        .breadcrumb-nav.visible {
          display: flex;
        }

        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-50px); }
          to { opacity: 1; transform: translateX(0); }
        }

        .breadcrumb-nav a {
          color: hsl(var(--text-secondary));
          text-decoration: none;
          font-size: 0.9rem;
          transition: var(--transition-smooth);
          padding: 0.3rem 0.8rem;
          border-radius: 15px;
          cursor: pointer;
        }

        .breadcrumb-nav a:hover {
          color: hsl(var(--aether));
          background: hsla(var(--aether), 0.1);
        }

        .breadcrumb-separator {
          color: hsl(var(--text-secondary));
          opacity: 0.5;
        }

        /* ===== SECRET MENU SYSTEM ===== */
        .hidden-portal {
          position: fixed;
          top: 20px;
          right: 20px;
          width: 30px;
          height: 30px;
          background: transparent;
          border: none;
          cursor: pointer;
          z-index: 1001;
          opacity: 0;
          transition: opacity 0.3s ease;
          border-radius: 50%;
        }
        
        .hidden-portal:hover {
          opacity: 0.2;
          background: radial-gradient(circle, hsl(var(--aether)), transparent);
        }
        
        .secret-menu {
          position: fixed;
          top: 60px;
          right: 20px;
          background: hsla(var(--cosmic-void), 0.95);
          backdrop-filter: blur(15px);
          border: 1px solid hsl(var(--aether));
          border-radius: 15px;
          padding: 1.5rem;
          min-width: 200px;
          z-index: 1002;
          opacity: 0;
          transform: translateY(-20px) scale(0.9);
          transition: all 0.3s ease;
          pointer-events: none;
          box-shadow: 0 10px 30px hsla(var(--aether), 0.3);
        }
        
        .secret-menu.visible {
          opacity: 1;
          transform: translateY(0) scale(1);
          pointer-events: all;
        }
        
        .secret-menu h3 {
          color: hsl(var(--aether));
          margin-bottom: 1rem;
          font-size: 1.1rem;
          text-align: center;
          border-bottom: 1px solid hsla(var(--aether), 0.3);
          padding-bottom: 0.5rem;
        }
        
        .secret-menu ul {
          list-style: none;
          margin: 0;
          padding: 0;
        }
        
        .secret-menu li {
          margin: 0.8rem 0;
        }
        
        .secret-menu a {
          color: hsl(var(--text-primary));
          text-decoration: none;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem;
          border-radius: 8px;
          transition: all 0.3s ease;
          font-size: 0.9rem;
          cursor: pointer;
        }
        
        .secret-menu a:hover {
          background: hsla(var(--aether), 0.2);
          color: hsl(var(--aether));
          transform: translateX(5px);
        }

        /* ===== NAVIGATION SYSTEM ===== */
        nav {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          z-index: 1000;
          background: hsla(var(--cosmic-void), 0.2);
          backdrop-filter: blur(8px);
          border-bottom: 1px solid hsla(var(--border), 0.05);
          padding: 1rem 2rem;
          transition: var(--transition-smooth);
        }
        
        .nav-container {
          max-width: 1200px;
          margin: 0 auto;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        
        .logo {
          font-size: 1.5rem;
          font-weight: bold;
          color: hsl(var(--aether));
          text-decoration: none;
          transition: var(--transition-smooth);
          cursor: pointer;
        }
        
        .logo:hover {
          transform: scale(1.05);
          text-shadow: 0 0 20px hsl(var(--aether));
        }
        
        .nav-links {
          display: flex;
          gap: 2rem;
          list-style: none;
        }
        
        .nav-links a {
          color: hsl(var(--text-primary));
          text-decoration: none;
          transition: var(--transition-smooth);
          padding: 0.5rem 1rem;
          border-radius: 20px;
          background: hsla(var(--cosmic-mist), 0.02);
          position: relative;
          cursor: pointer;
        }
        
        .nav-links a:hover,
        .nav-links a.active {
          color: hsl(var(--aether));
          background: hsla(var(--cosmic-mist), 0.08);
        }

        .nav-links.pulse-hint a {
          animation: gentle-glow 2s ease-in-out infinite alternate;
        }

        @keyframes gentle-glow {
          0% { box-shadow: 0 0 5px hsla(var(--aether), 0.3); }
          100% { box-shadow: 0 0 15px hsla(var(--aether), 0.6); }
        }

        /* ===== PAGE SECTION SYSTEM WITH ENHANCED TRANSITIONS ===== */
        .page-section {
          display: none;
          min-height: 100vh;
          padding: 6rem 2rem 2rem;
          opacity: 0;
          transform: translateY(20px);
          transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        .page-section.active {
          display: block;
          opacity: 1;
          transform: translateY(0);
          animation: smoothFadeInUp 0.6s ease-out;
        }

        @keyframes smoothFadeInUp {
          0% {
            opacity: 0;
            transform: translateY(30px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .container {
          max-width: 1000px;
          margin: 0 auto;
        }

        /* ===== INTRO PAGE WITH STAR LOGO ===== */
        .intro-page {
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          text-align: center;
          min-height: 100vh;
          padding: 2rem;
          position: relative;
        }
        
        .intro-title {
          font-size: clamp(3rem, 8vw, 6rem);
          margin-bottom: 1rem;
          background: linear-gradient(45deg, 
            hsl(var(--aether)), 
            hsl(var(--water)), 
            hsl(var(--fire)));
          background-clip: text;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          animation: gentle-pulse 4s ease-in-out infinite;
          font-weight: 800;
        }
        
        @keyframes gentle-pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.02); }
        }

        /* ===== ELEMENT ORBITS ===== */
        .element-orbits {
          width: 500px;
          height: 500px;
          margin: 2rem auto;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
        }

        .page-section:not(.intro-page) .element-orbits {
          display: none;
        }

        .orbit-ring {
          position: absolute;
          top: 50%;
          left: 50%;
          border: 1px solid hsla(var(--cosmic-mist), 0.1);
          border-radius: 50%;
          transform: translate(-50%, -50%);
        }
        
        .orbit-1 { width: 350px; height: 350px; }
        .orbit-2 { width: 450px; height: 450px; }
        .orbit-3 { width: 600px; height: 600px; }
        .orbit-4 { width: 800px; height: 800px; }

        /* Central Aether Core */
        .aether {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 80px;
          height: 80px;
          transform: translate(-50%, -50%);
          z-index: 20;
        }

        .aether-core {
          position: relative;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          background: radial-gradient(circle, 
            hsla(var(--aether), 0.9) 30%, 
            hsla(var(--aether), 0.2) 70%);
          box-shadow:
            0 0 40px hsl(var(--aether)),
            0 0 80px hsla(var(--aether), 0.6);
          animation: aether-pulse 3s ease-in-out infinite;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
        }

        .aether-glyph {
          font-size: 2rem;
          color: hsl(var(--cosmic-glow));
          text-shadow: 0 0 10px hsl(var(--cosmic-glow));
        }

        @keyframes aether-pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.05); }
        }

        /* Elemental Orbs */
        .element-orb {
          position: absolute;
          width: 45px;
          height: 45px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 1.2rem;
          transition: var(--transition-smooth);
          top: 50%;
          left: 50%;
          z-index: 15;
        }
        
        .element-orb:hover {
          transform: scale(1.2) !important;
          z-index: 25;
        }

        .fire { 
          background: radial-gradient(circle, hsl(var(--fire)), hsla(var(--fire), 0.4));
          animation: orbit-fire 12s linear infinite;
          box-shadow: 0 0 20px hsl(var(--fire));
        }
        
        .earth { 
          background: radial-gradient(circle, hsl(var(--earth)), hsla(var(--earth), 0.4));
          animation: orbit-earth 18s linear infinite;
          box-shadow: 0 0 15px hsl(var(--earth));
        }
        
        .water { 
          background: radial-gradient(circle, hsl(var(--water)), hsla(var(--water), 0.4));
          animation: orbit-water 24s linear infinite;
          box-shadow: 0 0 15px hsl(var(--water));
        }
        
        .air { 
          background: radial-gradient(circle, hsl(var(--air)), hsla(var(--air), 0.4));
          animation: orbit-air 30s linear infinite;
          box-shadow: 0 0 15px hsl(var(--air));
        }

        @keyframes orbit-fire {
          0% { transform: translate(-50%, -50%) rotate(0deg) translateX(175px) rotate(0deg); }
          100% { transform: translate(-50%, -50%) rotate(360deg) translateX(175px) rotate(-360deg); }
        }
        
        @keyframes orbit-earth {
          0% { transform: translate(-50%, -50%) rotate(0deg) translateX(225px) rotate(0deg); }
          100% { transform: translate(-50%, -50%) rotate(360deg) translateX(225px) rotate(-360deg); }
        }
        
        @keyframes orbit-water {
          0% { transform: translate(-50%, -50%) rotate(0deg) translateX(300px) rotate(0deg); }
          100% { transform: translate(-50%, -50%) rotate(360deg) translateX(300px) rotate(-360deg); }
        }
        
        @keyframes orbit-air {
          0% { transform: translate(-50%, -50%) rotate(0deg) translateX(400px) rotate(0deg); }
          100% { transform: translate(-50%, -50%) rotate(360deg) translateX(400px) rotate(-360deg); }
        }

        /* ===== FLOATING ACTION BUTTONS ===== */
        .floating-actions {
          position: absolute;
          bottom: 100px;
          left: 50%;
          transform: translateX(-50%);
          display: flex;
          gap: 1rem;
          opacity: 0;
          animation: floatUp 1s ease-out 2s forwards;
        }

        @keyframes floatUp {
          0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
          100% { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        .action-button {
          padding: 0.8rem 1.5rem;
          border: 2px solid;
          border-radius: 25px;
          background: transparent;
          color: hsl(var(--cosmic-glow));
          text-decoration: none;
          font-size: 0.9rem;
          cursor: pointer;
          transition: var(--transition-smooth);
          backdrop-filter: blur(10px);
          font-weight: 500;
        }

        .action-button.primary {
          border-color: hsl(var(--aether));
          background: hsla(var(--aether), 0.1);
        }

        .action-button.secondary {
          border-color: hsl(var(--water));
          background: hsla(var(--water), 0.1);
        }

        .action-button:hover {
          transform: translateY(-2px) scale(1.05);
          box-shadow: 0 8px 25px hsla(var(--aether), 0.3);
        }

        .action-button.primary:hover {
          background: hsla(var(--aether), 0.2);
        }

        .action-button.secondary:hover {
          background: hsla(var(--water), 0.2);
        }

        /* ===== RESONANCE EFFECTS ===== */
        .resonance-flare {
          box-shadow:
            0 0 60px hsl(var(--cosmic-glow)),
            0 0 120px hsl(var(--aether)),
            0 0 200px hsla(var(--aether), 0.6) !important;
          transform: scale(1.1);
          transition: all 0.3s ease;
        }

        .resonance-confirm {
          position: fixed;
          bottom: 40px;
          left: 50%;
          transform: translateX(-50%);
          background: hsla(var(--aether), 0.85);
          padding: 0.8rem 1.5rem;
          border-radius: 25px;
          color: hsl(var(--cosmic-glow));
          font-size: 1.1rem;
          box-shadow: 0 0 15px hsla(var(--aether), 0.4);
          animation: fadeOutUp 4s ease-out forwards;
          z-index: 9999;
        }

        @keyframes fadeOutUp {
          0% { opacity: 0; transform: translate(-50%, 20px); }
          10% { opacity: 1; transform: translate(-50%, 0); }
          90% { opacity: 1; transform: translate(-50%, -10px); }
          100% { opacity: 0; transform: translate(-50%, -20px); }
        }

        /* ===== STAR LOGO ===== */
        .star-logo {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          z-index: 5;
          pointer-events: none;
        }

        .star-body-part {
          position: absolute;
          width: 3px;
          height: 3px;
          background: hsl(var(--cosmic-glow));
          border-radius: 50%;
          box-shadow: 0 0 6px hsl(var(--cosmic-glow));
          animation: twinkle 3s ease-in-out infinite alternate;
        }

        .star-torso { top: 60px; left: 0; }
        .star-left-arm { top: 40px; left: -25px; }
        .star-right-arm { top: 40px; left: 25px; }
        .star-left-leg { top: 90px; left: -15px; }
        .star-right-leg { top: 90px; left: 15px; }

        /* ===== PROJECT PAGES ===== */
        .projects-page h1, .about-page h1, .contact-page h1 {
          font-size: 3rem;
          margin-bottom: 2rem;
          color: hsl(var(--aether));
          text-align: center;
          background: linear-gradient(45deg, hsl(var(--aether)), hsl(var(--fire)));
          background-clip: text;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
        }

        .featured-project {
          background: linear-gradient(135deg, 
            hsla(var(--aether), 0.1), 
            hsla(var(--water), 0.05));
          border: 2px solid hsl(var(--aether));
          border-radius: 20px;
          padding: 3rem;
          margin-bottom: 3rem;
          text-align: center;
          transition: var(--transition-smooth);
          position: relative;
          overflow: hidden;
        }

        .featured-project:hover {
          transform: translateY(-10px);
          box-shadow: 0 20px 40px hsla(var(--aether), 0.3);
        }

        .sub-projects {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 2rem;
          margin: 2rem 0;
        }
        
        .project-card {
          background: hsla(var(--surface), 0.3);
          border-radius: 15px;
          padding: 2rem;
          transition: var(--transition-smooth);
          border: 1px solid hsla(var(--aether), 0.2);
          text-align: center;
        }
        
        .project-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 10px 30px hsla(var(--aether), 0.2);
        }

        /* ===== HIDDEN PAGES ===== */
        .codex-page {
          background: linear-gradient(135deg, 
            hsla(var(--aether), 0.05), 
            hsla(var(--cosmic-void), 0.8));
        }

        .elemental-list {
          list-style: none;
          margin: 1.5rem 0;
        }
        
        .elemental-list li {
          margin: 1rem 0;
          padding: 1rem;
          background: hsla(var(--cosmic-mist), 0.05);
          border-radius: 10px;
          border-left: 4px solid hsl(var(--aether));
          transition: all 0.3s ease;
        }
        
        .elemental-list li:hover {
          transform: translateX(10px);
          background: hsla(var(--aether), 0.1);
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
          .element-orbits {
            width: 350px;
            height: 350px;
          }
          
          .orbit-1 { width: 200px; height: 200px; }
          .orbit-2 { width: 280px; height: 280px; }
          .orbit-3 { width: 350px; height: 350px; }
          .orbit-4 { width: 420px; height: 420px; }

          .floating-actions {
            flex-direction: column;
            align-items: center;
          }

          .breadcrumb-nav {
            left: 1rem;
            right: 1rem;
            width: auto;
          }

          @keyframes orbit-fire {
            0% { transform: translate(-50%, -50%) rotate(0deg) translateX(100px) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg) translateX(100px) rotate(-360deg); }
          }
          
          @keyframes orbit-earth {
            0% { transform: translate(-50%, -50%) rotate(0deg) translateX(140px) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg) translateX(140px) rotate(-360deg); }
          }
          
          @keyframes orbit-water {
            0% { transform: translate(-50%, -50%) rotate(0deg) translateX(175px) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg) translateX(175px) rotate(-360deg); }
          }
          
          @keyframes orbit-air {
            0% { transform: translate(-50%, -50%) rotate(0deg) translateX(210px) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg) translateX(210px) rotate(-360deg); }
          }
        }

        button:focus, a:focus {
          outline: 2px solid hsl(var(--aether));
          outline-offset: 2px;
        }
      `}</style>

      {/* Custom Cursor */}
      <div className="custom-cursor" ref={cursorRef}></div>
      
      {/* Cosmic background */}
      <div className="cosmos" ref={cosmosRef}></div>
      
      {/* Breadcrumb Navigation */}
      <div className={`breadcrumb-nav ${currentPage !== 'intro' ? 'visible' : ''}`}>
        <a onClick={() => showPage('intro')}>Home</a>
        <span className="breadcrumb-separator">›</span>
        <span>{pageNames[currentPage] || 'Current Page'}</span>
      </div>
      
      {/* Hidden Portal */}
      <button className="hidden-portal" onClick={toggleSecretMenu} title="✨"></button>
      
      {/* Secret Menu */}
      <div className={`secret-menu ${secretMenuVisible ? 'visible' : ''}`}>
        <h3>⚡ Hidden Pathways ⚡</h3>
        <ul>
          <li><a onClick={() => showPage('codex')}><span>📜</span> The Codex</a></li>
          <li><a onClick={() => showPage('garden')}><span>🌱</span> Digital Garden</a></li>
          <li><a onClick={() => showPage('workshop')}><span>🔮</span> Sacred Workshop</a></li>
          <li><a onClick={() => showPage('frequencies')}><span>🎵</span> Frequencies</a></li>
        </ul>
      </div>
      
      {/* Navigation */}
      <nav>
        <div className="nav-container">
          <a className="logo" onClick={() => showPage('intro')}>Wyetherp</a>
          <ul className="nav-links" id="navLinks">
            <li><a onClick={() => showPage('intro')} className={`nav-link ${currentPage === 'intro' ? 'active' : ''}`}>Home</a></li>
            <li><a onClick={() => showPage('about')} className={`nav-link ${currentPage === 'about' ? 'active' : ''}`}>About</a></li>
            <li><a onClick={() => showPage('projects')} className={`nav-link ${currentPage === 'projects' ? 'active' : ''}`}>Projects</a></li>
            <li><a onClick={() => showPage('contact')} className={`nav-link ${currentPage === 'contact' ? 'active' : ''}`}>Contact</a></li>
          </ul>
        </div>
      </nav>

      {/* Intro Page */}
      {currentPage === 'intro' && (
        <section className="page-section intro-page active">
          <h1 className="intro-title">Wyetherp</h1>
          <p style={{fontSize: '1.3rem', marginBottom: '3rem', opacity: 0.9, maxWidth: '600px', color: 'hsl(var(--text-secondary))'}}>
            Tech for the soul and senses. Creating tools for the tender-minded.
          </p>

          <div style={{textAlign: 'center', marginTop: '1rem', color: 'hsl(var(--text-secondary))', fontSize: '0.9rem'}}>
            ↑ Use navigation above or buttons below to explore ↑
          </div>
          
          <div className="element-orbits">
            <div className="orbit-ring orbit-1"></div>
            <div className="orbit-ring orbit-2"></div>
            <div className="orbit-ring orbit-3"></div>
            <div className="orbit-ring orbit-4"></div>
            
            <div className="star-logo">
              <div className="star-body-part star-torso"></div>
              <div className="star-body-part star-left-arm"></div>
              <div className="star-body-part star-right-arm"></div>
              <div className="star-body-part star-left-leg"></div>
              <div className="star-body-part star-right-leg"></div>
            </div>
            
            <div className="element-orb aether" title="✨ Aether – The guiding pulse" onClick={resonancePing}>
              <div className="aether-core">
                <span className="aether-glyph">✶</span>
              </div>
            </div>
            
            <div className="element-orb fire" title="🔥 Fire - Passionate creation">🔥</div>
            <div className="element-orb earth" title="🪨 Earth - Solid foundations">🪨</div>
            <div className="element-orb water" title="🌊 Water - Intuitive flow">🌊</div>
            <div className="element-orb air" title="🌬️ Air - Clear communication">🌬️</div>
          </div>
          
          <div className="floating-actions">
            <a className="action-button primary" onClick={() => showPage('projects')}>
              ✨ View My Work
            </a>
            <a className="action-button secondary" onClick={() => showPage('about')}>
              🌟 Learn More
            </a>
          </div>
        </section>
      )}

      {/* All other pages with improved transitions */}
      {currentPage === 'about' && (
        <section className="page-section about-page active">
          <div className="container">
            <h1>Walking the Forest Path</h1>
            <p style={{fontSize: '1.2rem', marginBottom: '2rem', opacity: 0.8}}>Most technology feels mentally straining and overwhelming</p>
            
            <h2 style={{color: 'hsl(var(--water))', margin: '2rem 0 1rem', fontSize: '1.8rem'}}>What I Believe</h2>
            <p style={{marginBottom: '1.5rem', fontSize: '1.1rem', color: 'hsl(var(--text-secondary))', lineHeight: 1.7}}>I believe every website or app is a chance to connect with someone. I build digital spaces where people who think differently feel at home.</p>
            
            <h2 style={{color: 'hsl(var(--water))', margin: '2rem 0 1rem', fontSize: '1.8rem'}}>The Five Elements</h2>
            <ul className="elemental-list">
              <li>🔥 <strong>Fire</strong> – Inspiration and passionate creation</li>
              <li>🌊 <strong>Water</strong> – Smooth, intuitive flow</li>
              <li>🌬️ <strong>Air</strong> – Clear, accessible communication</li>
              <li>🪨 <strong>Earth</strong> – Solid, reliable foundations</li>
              <li>✨ <strong>Aether</strong> – The mystical binding that holds it all together</li>
            </ul>
            
            <div style={{textAlign: 'center', marginTop: '3rem'}}>
              <a className="action-button primary" onClick={() => showPage('projects')}>
                🛠️ See My Projects
              </a>
            </div>
          </div>
        </section>
      )}

      {/* Projects, Contact, and Hidden Pages with same structure... */}
      {currentPage === 'projects' && (
        <section className="page-section projects-page active">
          <div className="container">
            <h1>🛠️ Sacred Creations</h1>
            <div className="featured-project">
              <h2>🤖 C.R.U.M.B</h2>
              <p><strong>Emotionally Intelligent Companion</strong></p>
              <p>An AI assistant designed specifically for neurodivergent minds, offering emotional support through gentle LED feedback, calming interactions, and intuitive communication.</p>
            </div>
            <div className="sub-projects">
              <div className="project-card">
                <h3 style={{color: 'hsl(var(--aether))', marginBottom: '1rem', fontSize: '1.5rem'}}>🌊 Flow Interfaces</h3>
                <p>Design patterns that work with natural human rhythms rather than against them.</p>
              </div>
              <div className="project-card">
                <h3 style={{color: 'hsl(var(--aether))', marginBottom: '1rem', fontSize: '1.5rem'}}>🔥 Elemental ML</h3>
                <p>Machine learning models designed with transparency and emotional intelligence.</p>
              </div>
            </div>
            <div style={{textAlign: 'center', marginTop: '3rem'}}>
              <a className="action-button primary" onClick={() => showPage('contact')}>🌌 Let's Collaborate</a>
            </div>
          </div>
        </section>
      )}

      {currentPage === 'contact' && (
        <section className="page-section contact-page active">
          <div className="container">
            <h1>🌌 Cosmic Communion</h1>
            <p style={{textAlign: 'center', fontSize: '1.2rem', marginBottom: '2rem'}}>Let's collaborate and create something meaningful together.</p>
            <div style={{maxWidth: '600px', margin: '2rem auto', textAlign: 'center'}}>
              <p style={{marginBottom: '2rem', color: 'hsl(var(--text-secondary))'}}>Whether you're neurodivergent yourself, or simply believe technology can be more human — I'd love to connect.</p>
              <div style={{display: 'flex', gap: '2rem', justifyContent: 'center', flexWrap: 'wrap', marginTop: '3rem'}}>
                <a href="mailto:[your-email]" className="action-button primary">✉️ Email Me</a>
                <a href="[your-linkedin]" className="action-button secondary">💼 LinkedIn</a>
                <a href="[your-github]" className="action-button secondary">💻 GitHub</a>
              </div>
            </div>
          </div>
        </section>
      )}

      {/* Hidden Pages */}
      {currentPage === 'codex' && (
        <section className="page-section codex-page active">
          <div className="container">
            <h1 style={{color: 'hsl(var(--aether))', textAlign: 'center', marginBottom: '2rem'}}>📜 The Codex</h1>
            <p style={{textAlign: 'center', marginBottom: '3rem', fontStyle: 'italic'}}>Sacred writings and digital spells. The deeper mysteries of creation.</p>
            <h2 style={{color: 'hsl(var(--water))', margin: '2rem 0 1rem'}}>Development Philosophy</h2>
            <blockquote style={{margin: '2rem 0', padding: '1.5rem', borderLeft: '4px solid hsl(var(--fire))', background: 'hsla(var(--fire), 0.1)', fontStyle: 'italic', borderRadius: '0 10px 10px 0'}}>
              <em>"Every line of code is a prayer, every function a ritual, every interface a piece of sacred geometry."</em>
            </blockquote>
            <h2 style={{color: 'hsl(var(--water))', margin: '2rem 0 1rem'}}>The Elemental Programming Principles</h2>
            <ul className="elemental-list">
              <li>🔥 <strong>Fire Code</strong> – Passionate, transformative algorithms that ignite possibility</li>
              <li>🌊 <strong>Water Logic</strong> – Flowing, adaptive functions that bend without breaking</li>
              <li>🌬️ <strong>Air Interfaces</strong> – Light, breathable UX that lifts the spirit</li>
              <li>🪨 <strong>Earth Architecture</strong> – Solid, foundational systems built to endure</li>
              <li>✨ <strong>Aether Vision</strong> – The transcendent purpose that guides all creation</li>
            </ul>
          </div>
        </section>
      )}

      {/* Other hidden pages follow same pattern... */}
      {currentPage === 'garden' && (
        <section className="page-section active">
          <div className="container">
            <h1 style={{color: 'hsl(var(--aether))', textAlign: 'center', marginBottom: '2rem'}}>🌱 Digital Garden</h1>
            <p style={{textAlign: 'center', marginBottom: '3rem'}}>A growing collection of thoughts, experiments, and seeds of inspiration.</p>
            <div className="sub-projects">
              <div className="project-card">
                <h3 style={{color: 'hsl(var(--aether))', marginBottom: '1rem'}}>🧠 Neurodivergent Design Patterns</h3>
                <p>Exploring how interfaces can better serve different cognitive styles and sensory needs.</p>
                <p style={{fontStyle: 'italic', color: 'hsl(var(--text-secondary))'}}>Growing slowly...</p>
              </div>
              <div className="project-card">
                <h3 style={{color: 'hsl(var(--aether))', marginBottom: '1rem'}}>🎾 Tennis ML Scripts</h3>
                <p>Using Machine Learning to improve team performance both on and off the court.</p>
                <p style={{fontStyle: 'italic', color: 'hsl(var(--text-secondary))'}}>Blooming...</p>
              </div>
              <div className="project-card">
                <h3 style={{color: 'hsl(var(--aether))', marginBottom: '1rem'}}>🌊 Rhythm-Based UX</h3>
                <p>Interfaces that breathe and pulse with natural timing, honoring the body's rhythms.</p>
                <p style={{fontStyle: 'italic', color: 'hsl(var(--text-secondary))'}}>Flowing...</p>
              </div>
            </div>
          </div>
        </section>
      )}

      {currentPage === 'workshop' && (
        <section className="page-section active">
          <div className="container">
            <h1 style={{color: 'hsl(var(--aether))', textAlign: 'center', marginBottom: '2rem'}}>🔮 Sacred Workshop</h1>
            <p style={{textAlign: 'center', marginBottom: '3rem'}}>Where ideas are forged into reality. The laboratory of digital alchemy.</p>
            <h2 style={{color: 'hsl(var(--water))', margin: '2rem 0 1rem'}}>Current Experiments</h2>
            <ul className="elemental-list">
              <li>🤖 <strong>Crumb's Emotional Engine</strong> – Teaching AI to recognize and respond to neurodivergent communication patterns</li>
              <li>🌙 <strong>Circadian Design</strong> – Interfaces that adapt to natural energy cycles</li>
              <li>🔊 <strong>Haptic Harmony</strong> – Gentle vibrations that communicate without overwhelming</li>
              <li>🎨 <strong>Synesthetic Interfaces</strong> – Translating emotions into colors, sounds, and textures</li>
            </ul>
            <div style={{textAlign: 'center', marginTop: '3rem'}}>
              <button style={{padding: '1rem 2rem', background: 'linear-gradient(45deg, hsl(var(--aether)), hsl(var(--fire)))', border: 'none', borderRadius: '25px', color: 'hsl(var(--cosmic-glow))', cursor: 'pointer', fontSize: '1.1rem'}} onClick={resonancePing}>
                🔬 Request Workshop Access
              </button>
            </div>
          </div>
        </section>
      )}

      {currentPage === 'frequencies' && (
        <section className="page-section active">
          <div className="container">
            <h1 style={{color: 'hsl(var(--aether))', textAlign: 'center', marginBottom: '2rem'}}>🎵 Frequencies</h1>
            <p style={{textAlign: 'center', marginBottom: '3rem'}}>Each part of Crumb hums with its own song—a resonance crafted through sound and intention.</p>
            <h2 style={{color: 'hsl(var(--water))', margin: '2rem 0 1rem'}}>Solfeggio Sound Map</h2>
            <ul className="elemental-list">
              <li>🔊 <strong>396Hz – Release & Grounding</strong><br />Crumb's <em>Safe Mode</em> anchors anxious energy through subtle bass vibrations.</li>
              <li>🌊 <strong>417Hz – Flow & Reset</strong><br />The <em>Water Mode</em> uses this tone to support emotional fluidity during transitions.</li>
              <li>🔥 <strong>528Hz – DNA Activation</strong><br /><em>Fire Mode</em> pulses with this frequency to fuel intention-setting and creative ignition.</li>
              <li>🌬️ <strong>639Hz – Harmonious Communication</strong><br />This frequency supports <em>Air Mode</em> for nonverbal expression and peaceful dialogue.</li>
              <li>🪨 <strong>741Hz – Clarity & Structure</strong><br /><em>Earth Mode</em> resonates here, helping users find rhythm and order.</li>
              <li>✨ <strong>852Hz – Intuition & Aether Channel</strong><br />Crumb's internal compass for reflection and environmental attunement.</li>
            </ul>
            <p style={{textAlign: 'center', fontStyle: 'italic', marginTop: '2rem', color: 'hsl(var(--text-secondary))'}}>
              <em>Crumb is not just coded. It's tuned.</em>
            </p>
          </div>
        </section>
      )}
    </>
  );
};

export default Index;
